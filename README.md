# Reliable file transfer using Go-Back-N protocol

A reliable file transfer implementation using the Go-Back-N (GBN) protocol over UDP, developed as a Computer Network course project.

## Project Overview

This project implements a sliding window protocol for reliable data transmission over an unreliable UDP connection. The Go-Back-N protocol ensures reliable file transfer by using sequence numbers, acknowledgments, timeouts, and retransmissions to handle packet loss and errors in network communication.

## Features

- **Reliable File Transfer**: Implements Go-Back-N protocol with sliding window mechanism
- **Multi-host Support**: Supports concurrent file transfers between multiple hosts
- **Error Simulation**: Configurable packet loss and error rates for testing
- **Performance Analysis**: Built-in logging and visualization tools for protocol performance evaluation
- **Threaded Architecture**: Uses multi-threading with message queues for efficient connection handling

## File Structure

- **host.py**: Main protocol implementation supporting multi-host file transfers
  - Multi-threaded architecture with message queues
  - One thread per connection for concurrent file transfers
  - Implements both sender and receiver functionality

- **config.json**: Configuration parameters for protocol behavior
  - Network settings (ports, buffer sizes)
  - Protocol parameters (window size, timeout values)
  - Simulation settings (error rates, packet loss rates)

- **produce.py**: Utility script to generate test files for transmission experiments

- **input_file.txt**: Default input file for transmission (generated by produce.py)

- **log_analysis/**: Performance analysis tools and results
  - Log processing scripts and generated log files
  - Visualization tools for protocol performance metrics

## Usage Instructions

### Prerequisites

- Python 3.x
- Required Python packages: `socket`, `threading`, `queue`, `pickle`, `matplotlib` (for analysis)

### Basic Usage

1. **Generate a test file**:
   ```bash
   python3 produce.py
   ```

2. **Configure protocol parameters** (optional):
   Edit `config.json` to modify:
   - Window size (`SWSize`)
   - Timeout values (`Timeout`)
   - Error simulation rates (`ErrorRate`, `LostRate`)
   - Packet size (`DataSize`)

3. **Start the protocol**:
   ```bash
   python3 host.py
   ```
   This starts a host that can both send and receive files.

4. **Multi-host testing**:
   - Run multiple instances of `host.py` with different configurations
   - Use the test directories (`test/test1/`, `test/test2/`) for predefined multi-host scenarios

### Performance Analysis

1. **Analyze transfer logs**:
   ```bash
   cd log_analysis
   python3 readlog.py
   ```

2. **Generate performance graphs**:
   ```bash
   python3 draw.py
   ```

### Configuration Options

Key parameters in `config.json`:

- `SWSize`: Sliding window size (default: 7)
- `Timeout`: Retransmission timeout in milliseconds (default: 1000)
- `ErrorRate`: Simulated error rate percentage (default: 5)
- `LostRate`: Simulated packet loss rate percentage (default: 5)
- `DataSize`: Packet payload size in bytes (default: 3072)
- `UPDPort`, `TargetPort`: UDP port numbers for communication

## Protocol Implementation

The implementation includes:

- **Frame Structure**: Sequence numbers, acknowledgment numbers, data payload, and CRC checksums
- **Sliding Window**: Configurable window size for pipelined transmission
- **Error Detection**: CRC-CCITT checksum for data integrity
- **Timeout and Retransmission**: Go-Back-N retransmission on packet loss or timeout
- **Flow Control**: Window-based flow control mechanism

## Output Files

- **Received files**: Stored in `{hostname}/receive/` directory
- **Transfer logs**: Stored in `{hostname}/log/` directory
- **Analysis results**: Generated in `log_analysis/` subdirectories
